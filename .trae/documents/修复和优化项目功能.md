## 修复和优化计划

### 1. 解决点击"发布"无法切换Write的问题
- 检查并确保Aside组件中的路由配置正确
- 验证Write组件是否正确注册和引入
- 检查路由配置是否正确

### 2. 优化anchor锚点功能
- 修改滚动监听逻辑，确保能正确找到各级标题位置
- 调整scrollPosition的计算方式，提高准确性
- 确保锚点点击能平滑滚动到对应位置

### 3. 修复"待设置"sub的UI问题
- 检查并固定el-menu的宽度
- 确保收起和展开时宽度一致
- 添加合适的CSS样式确保布局稳定

### 4. 更新路由配置
- 检查当前路由配置
- 确保404页面正确重定向到index页面
- 优化路由结构

### 5. 修改Header的登录/退出按钮
- 添加登录状态检查逻辑
- 动态切换按钮文本（登录/退出登录）
- 动态绑定点击事件（跳转登录页/执行退出逻辑）

### 6. 修改"发布"按钮状态
- 在Aside组件中添加登录状态检查
- 动态设置发布按钮的disabled属性
- 确保未登录用户无法点击发布按钮

## 预期效果
- 点击"发布"按钮能正确切换到Write页面
- 锚点能准确找到所有级别的标题位置
- "待设置"子菜单收起和展开时宽度一致
- 未登录用户看到"登录"按钮，登录后看到"退出登录"按钮
- 未登录用户无法点击"发布"按钮
- 404页面正确重定向到index页面

## 实现方案
1. 修改Aside组件，添加登录状态检查和路由配置
2. 优化Topic组件的锚点滚动监听逻辑
3. 修改Header组件，实现动态按钮切换
4. 更新路由配置，调整重定向规则
5. 添加CSS样式修复子菜单宽度问题

## 需要修改的文件
- src/components/Aside.vue
- src/components/Topic.vue
- src/components/Header.vue
- src/router.js